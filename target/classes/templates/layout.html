<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <title>Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.8/dist/sweetalert2.min.css"
        integrity="sha256-v43W/NzPbaavipHsTh1jdc2zWJ1YSTzJlBajaQBPSlw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.1/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.5.2/css/buttons.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.bootstrap4.min.css">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/hero.css}">
    <link rel="stylesheet" th:href="@{/css/dashboard.css}">
    <link rel="stylesheet" th:href="@{/css/layout_container.css}">
    <link rel="stylesheet" th:href="@{/css/tabel.css}">
    <link rel="stylesheet" th:href="@{/css/profile.css}">

    <meta th:name="_csrf" th:content="${_csrf.token}" />
    <!-- default header name is X-CSRF-TOKEN -->
    <meta th:name="_csrf_header" th:content="${_csrf.headerName}" />
</head>

<body style="background-color: #F7F8FC;">
    <div class="layout__container">

        <div th:insert="fragments/header :: navbar_admin" sec:authorize="hasRole('ADMIN')"></div>
        <div th:insert="fragments/header :: navbar_trainer" sec:authorize="hasRole('TRAINER')"></div>
        <div th:insert="fragments/header :: navbar_peserta" sec:authorize="hasRole('PESERTA')"></div>
        <!-- <div th:insert="fragments/header :: hero"></div> -->
        <div class="hero__wrapper">
            <div class="text-center">
                <h1 class="display-5 fw-bold hero__text">Metrodata Coding Camp</h1>
                <section layout:fragment="judulHero" style="color: white; margin-top: 3rem">
                </section>
                <div class="col-md-12 logo__wrapper">
                    <!-- <i class="bi bi-people logo"></i> -->
                    <i layout:fragment="icon"></i>
                    <span layout:fragment="text-icon"></span>
                </div>
            </div>
        </div>

        <section layout:fragment="content" style="margin-bottom: 6rem;">
            Content
        </section>

        <div class="col-md-12 footer" style="background-color: #F3F3F3;">
            <footer class="mt-4">
                <p class="text-muted text-center">Copyright Â© 2021 MCC 5657. All right reserved.</p>
            </footer>
        </div>

    </div>

    <div th:insert="fragments/scripts"></div>

    <th:block layout:fragment="scripts"></th:block>
    <script th:inline="javascript">
        $(document).ready(function () {
            (function () {
                const message = [[${ message }]];
                if (message) {
                    Swal.fire(
                        'Status Action?',
                        message,
                        'success'
                    );
                }
            })();

        });

        // Untuk CSRF TOKEN
        $(function () {
            var token = $("meta[name='_csrf']").attr("content");
            var header = $("meta[name='_csrf_header']").attr("content");
            $(document).ajaxSend(function (e, xhr, options) {
                xhr.setRequestHeader(header, token);
            });
        });

        function customSweetAlert(msg) {
            let status = '';
            if(msg.includes("Error")){
                status = 'error';
            }
            else{
                status = 'success';
            }
            Swal.fire(
                'Status Action?',
                msg,
                status
            ).then(() => {
                $("body").removeAttr("style");
            });
        }

        function errorSweetAlert(msg) {
            Swal.fire({
                icon: 'error',
                title: 'Oops...',
                text: msg
            }).then(() => {
                $("body").removeAttr("style");
            });
        }
    </script>
</body>

</html>