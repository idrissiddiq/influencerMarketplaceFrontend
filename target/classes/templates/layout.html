<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Influencer Marketplace</title>
    <!-- Favicon-->
    <!--    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />-->
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <!--    <link href="css/styles.css" rel="stylesheet" />-->
    <link rel="stylesheet" th:href="@{/css/home.css}">
    <meta th:name="_csrf" th:content="${_csrf.token}" />
    <meta th:name="_csrf_header" th:content="${_csrf.headerName}" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF"
          crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kQtW33rZJAHjgefvhyyzcGF3C5TFyBQBA13V1RKPf4uH+bwyzQxZ6CmMZHmNBEfJ"
            crossorigin="anonymous">
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.8/dist/sweetalert2.all.min.js"
            integrity="sha256-voaY/mFuF2+Kg/L56O9wmuwvhHf3XcaxCI/Ld9UR+d4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.8/dist/sweetalert2.min.css" integrity="sha256-v43W/NzPbaavipHsTh1jdc2zWJ1YSTzJlBajaQBPSlw=" crossorigin="anonymous">
</head>

<body style="background-color: #F7F8FC;">
    <div class="layout__container">

        <div th:insert="fragments/header :: navbar_admin" sec:authorize="hasRole('ADMIN')"></div>
        <div th:insert="fragments/header :: navbar_brand" sec:authorize="hasRole('BRAND')"></div>
        <div th:insert="fragments/header :: navbar_influencer" sec:authorize="hasRole('INFLUENCER')"></div>
        <div th:insert="fragments/header :: navbar_anonym" sec:authorize="hasRole('ANONYMOUS')"></div>
        <!-- <div th:insert="fragments/header :: hero"></div> -->

        <section layout:fragment="content" style="margin-bottom: 6rem;">
            Content
        </section>

        <div class="col-md-12 footer" style="background-color: #F3F3F3;">
            <footer class="mt-4">
                <p class="text-muted text-center">Copyright Â© 2021 MCC 5657. All right reserved.</p>
            </footer>
        </div>

    </div>

    <div th:insert="fragments/scripts"></div>

    <th:block layout:fragment="scripts"></th:block>
    <script th:inline="javascript">
        $(document).ready(function () {
            (function () {
                const message = [[${ message }]];
                if (message) {
                    Swal.fire(
                        'Status Action?',
                        message,
                        'success'
                    );
                }
            })();

        });

        // Untuk CSRF TOKEN
        $(function () {
            var token = $("meta[name='_csrf']").attr("content");
            var header = $("meta[name='_csrf_header']").attr("content");
            $(document).ajaxSend(function (e, xhr, options) {
                xhr.setRequestHeader(header, token);
            });
        });

        function customSweetAlert(msg) {
            let status = '';
            if(msg.includes("Error")){
                status = 'error';
            }
            else{
                status = 'success';
            }
            Swal.fire(
                'Status Action?',
                msg,
                status
            ).then(() => {
                $("body").removeAttr("style");
            });
        }

        function errorSweetAlert(msg) {
            Swal.fire({
                icon: 'error',
                title: 'Oops...',
                text: msg
            }).then(() => {
                $("body").removeAttr("style");
            });
        }
    </script>
</body>

</html>