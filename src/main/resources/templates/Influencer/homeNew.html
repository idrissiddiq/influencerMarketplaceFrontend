<!DOCTYPE html>
<html>
<head>
  <title>List Campaign</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    .navbar-nav {
      margin-left: auto;
    }
    .navbar-brand .brand-text {
      font-size: 0.9rem;
    }
      /* Add some styles for the page */
	  header{
		background: url('/images/bgCampign2.png');
		background-size: cover;
		width: 100%;
		}

      .feed {
        display: flex;
        flex-wrap: wrap;
		float:left;
		width: calc(33.33% - 20px);
      }

      .post {
        padding: 15px;
        background-color: #ffd639;
        margin: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        border-radius: 10px;
      }

      .post img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
      }

      .post .info {
        padding: 20px;
      }

      .post h2 {
        font-size: 24px;
        margin: 20px 0;
        text-transform: uppercase;
        letter-spacing: 2px;
      }

      .post p {
        font-size: 18px;
        color: #333;
        margin: 0;
        line-height: 1.5;


	  .stats {
        display: flex;
        justify-content: space-around;
        margin: 40px 0;
      }
	  .btn {
			background-color: #d3337f;
			color: white;
		}

      /* Add responsive styles for mobile devices */
      @media (max-width: 768px) {
        .container {
          width: 100%;
          padding: 20px;
        }

        .feed {
          flex-direction: column;
        }

        .post {
          width: 100%;
        }
        .nav-link{text-align: center;}
      }
    </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  <link rel="stylesheet" href="css/styles.css">
  <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script>
		$(document).ready(function(){
			$(".profile .icon_wrap").click(function(){
			  $(this).parent().toggleClass("active");
			  $(".notifications").removeClass("active");
			});

			$(".notifications .icon_wrap").click(function(){
			  $(this).parent().toggleClass("active");
			   $(".profile").removeClass("active");
			});

			$(".show_all .link").click(function(){
			  $(".notifications").removeClass("active");
			  $(".popup").show();
			});

			$(".close").click(function(){
			  $(".popup").hide();
			});
		});
	</script>
  <link
          rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.15.1/css/all.css"
          integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp"
          crossorigin="anonymous"
  />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF"
        crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-kQtW33rZJAHjgefvhyyzcGF3C5TFyBQBA13V1RKPf4uH+bwyzQxZ6CmMZHmNBEfJ"
          crossorigin="anonymous">
  </script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.8/dist/sweetalert2.all.min.js"
          integrity="sha256-voaY/mFuF2+Kg/L56O9wmuwvhHf3XcaxCI/Ld9UR+d4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.8/dist/sweetalert2.min.js"
          integrity="sha256-UEAn96ePJjqidezAU7lnOYeJEArgg4hsNGbwqmcyPrY=" crossorigin="anonymous"></script>

</head>
<body style="background-color: #fde386;">
<!-- Navigation-->
<nav class="navbar navbar-expand-lg sticky-top navbar-light " style = "background-color: #fde386;">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="/">
      <img src="/images/logo-bg.png" alt="Logo" height="30" width="30" class="me-2">
      <span class="d-block brand-text">One<br>Management</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link text-center" href="/campaign"><i class="fas fa-palette" style="color: #ffb042;" ></i>
            <div> <strong class="d-block ">List Campaign</strong></div>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-center" href="/contract"><i class="fas fa-file-contract" style="color: #ffb042;"></i>
            <div><strong class="d-block ">My Contract</strong></div>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-center" href="/profile"><i class="fas fa-user" style="color: #ffb042;"></i>
            <div><strong class="d-block ">My Profile</strong></div>
          </a>
        </li>
        <li class="nav-item">
          <div class="navbar_right">
            <div class="notifications" >
              <div class="icon_wrap" id="notifUpdate" style="margin-top: 5px;"  th:each="notifRead : ${notificationRead} "><i class="far fa-bell"></i><div  th:if="${notifRead.message == 'UNREAD'}"><span  class="badge" style="background-color: #e60000; color: white;
                            font-size: 10px; padding: 1px 3px; border-radius: 50%; position: absolute;
                            top: 2px; right: -5px; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);" th:text="${notifRead.data}"></span></div></div>
              <div class="notification_dd"  >
                <ul class="notification_ul" th:each="notification : ${notifications.data}"  >
<!--                  <li class="starbucks success"  th:if="${notification.status == R}" >-->
<!--                    <div class="notify_data">-->
<!--                      <div class="title"th:text="${notification.message}">-->
<!--                      </div>-->
<!--                      <div class="sub_title" th:text="${notification.createDate}">-->
<!--                      </div>-->
<!--                    </div>-->
<!--                    <div class="notify_status">-->
<!--                      <p>~</p>-->
<!--                    </div>-->
<!--                  </li>-->
                    <li class="starbucks failed" >
                      <div class="notify_data">
                        <div class="title"th:text="${notification.message}">
                        </div>
                        <div class="sub_title" th:text="${notification.createDate}">
                        </div>
                      </div>
                      <div class="notify_status" th:if="${notification.status == 'U'}" >
                        <p style="font-size: 75px;">.</p>
                      </div>
                      <div class="notify_status" th:if="${notification.status == 'R'}" >
                        <p style="font-size: 1px;"></p>
                      </div>
                    </li>
                </ul>
<!--                <ul class="notification_ul">-->
<!--                  <li class="show_all">-->
<!--                    <p class="link" >Show All Activities</p>-->
<!--                  </li>-->
<!--                </ul>-->
              </div>
            </div>
          </div>
        </li>
        <form th:action="@{/logout}" th:method="POST" id="logoutButton" class="d-flex nav-item active mr-auto mr-2 float-right">
          <button type="button" th:onclick="logoutReq()" class="btn btn-secondary" style=" color: #fde386;">
            <i class="fas fa-sign-out-alt"></i>Logout</button>
        </form>
      </ul>
    </div>
  </div>
</nav>

<div class="popup">
  <div class="shadow"></div>
  <div class="inner_popup">
    <div class="notification_dd">
      <ul class="notification_ul" >
        <li class="title">
          <p>All Notifications</p>
          <p class="close"><i class="fas fa-times" aria-hidden="true"></i></p>
        </li>
        <li class="starbucks success" th:each="notifications : ${notificationAll.data}">
          <div class="notify_data" >
            <div class="title" th:text="${notifications.message}">
            </div>
            <div class="sub_title" th:text="${notifications.createDate}">
            </div>
          </div>
          <div class="notify_status" th:if="${notifications.status == 'U'}" >
            <p style="font-size: 75px;">.</p>
          </div>
          <div class="notify_status" th:if="${notifications.status == 'R'}" >
            <p style="font-size: 1px;"></p>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>

<header class="bg-dark py-5">
  <div class="container px-4 px-lg-5 my-5">
    <div class="text-center text-dark" >
      <h4 class="display-6 fw-bolder" style="color: #f7c280; margin-left: 100px " th:text="${'Hello ' + username}">Hello Folks</h4>
      <p class="lead fw-normal text-dark-50 mb-0" style="color: #f7c280; margin-left: 100px ">Let's Treasure Your Influence</p>
    </div>
  </div>
</header>
<br><br>
<div class="container" style="margin-top: 20px; ">
  <div class="row" >
    <div class="col-md-8" th:each="campaign : ${campaigns.data}">
      <div>
        <hr />
      </div>
      <div class="card" style = "background-color: #feeaa1;">
        <div class="card-header border-0" style = "background-color: #feeaa1;">
			  <span>
			  <span style="font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; font-weight: bold; font-size: 14px; margin-left: 0px;" th:text="${campaign.title}" class="align-top">Campaign Bersama Influencer</span>
				  </span><br>
          <span class="align-middle" th:text="'By ' + ${campaign.company}" style="margin-left: 0px; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; font-size: 13px; color: #474747;">BY PT.Mencari Cinta Sejati</span>
          <br><br><span style="margin-left: 0px; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; font-size: 17px;" th:text="${campaign.description}"> Mengandalkan influencer untuk campaign cukup efektif dalam meningkatkan brand awareness. Selain itu, kamu juga bisa mendatangkan audiens baru agar tertarik dengan produk atau jasa kamu berkat adanya sang influencer tersebut. Orang-orang yang berkecimpung pada bidang digital marketing biasa menyebut campaign ini endorse, atau bahasa Inggrisnya endorsement. Akan tetapi, kamu perlu mengeluarkan sejumlah biaya untuk membuat campaign ini. Kamu bisa memilih influencer yang sesuai dengan budget kamu. Mulai dari nano, mikro, makro, hingga mega influencer. Hasil yang luar biasa akan didapat dengan KOL management yang baik. Kamu bisa mengarahkan influencer secara terukur menggunakan ilmu KOL management.</span>
        </div>
      </div><br>
    </div>
  </div>
</div>
</div>

<th:block layout:fragment="script">
  <script th:inline="javascript">

   const notifUpdate = document.getElementById('notifUpdate');

  // Add an onclick event listener
  notifUpdate.onclick = function() {
      console.log('notif');
      $.ajax({
      url: '/notification/update' ,
      type: 'POST',
      success: function(response) {
        console.log(response);
      },
      error: function(error) {
        console.error(error);
      }
    });
  };


  function logoutReq() {
            Swal.fire({
            title: 'Are you sure you want to Logout?',
            icon: 'warning',
            showDenyButton: true,
            confirmButtonColor: '#3085d6',
            denyButtonColor: '#d33',
            confirmButtonText: 'Yes, log me out!',
            denyButtonText: 'No, I want to stay!'
            }).then((result) => {
                if (result.isConfirmed) {
                    document.getElementById("logoutButton").submit();

                } else if (result.isDenied) {
                    Swal.fire(
                    'Canceled!',
                    'Welcome Back.',
                    'success'
            )
          }
        })
      }
  </script>

</th:block>

</body>

